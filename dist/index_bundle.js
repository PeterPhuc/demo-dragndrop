(()=>{"use strict";const e=class{#e;#t;#o;#s;#n;#i;#c;#r;constructor(){this.#n=document.querySelector(".wrapper .image"),this.#i=document.querySelector("body"),this.setCurrentPositionImage(),this.init()}init(){const e=JSON.parse(localStorage.getItem("Position"));e&&this.reStyle(e.left,e.top)}getPos(){return{posX:this.#e,posY:this.#t}}onMouseDown(){const e=this;this.#n.addEventListener("mousedown",(function(t){t.preventDefault(),0==t.button&&(e.setCurrentPositionImage(),e.onMouseMove(t.clientX-e.getPos().posX,t.clientY-e.getPos().posY))})),this.#n.addEventListener("touchstart",(function(t){t.preventDefault(),e.setCurrentPositionImage(),e.onMouseMove(t.touches[0].clientX-e.getPos().posX,t.touches[0].clientY-e.getPos().posY)}))}onMouseMove(e,t){const o=this;function s(s){s.preventDefault(),o.HandleMouseMove(e,t,s)}function n(s){s.preventDefault(),o.HandleTouchMove(e,t,s)}this.#i.addEventListener("mousemove",s),this.#i.addEventListener("mouseup",(function(e){this.removeEventListener("mousemove",s)})),this.#i.addEventListener("mouseleave",(function(e){this.removeEventListener("mousemove",s)})),this.#i.addEventListener("touchmove",n),this.#i.addEventListener("touchend",(function(e){this.removeEventListener("touchmove",n)}))}HandleMouseMove(e,t,o){const s={top:o.clientY-t,left:o.clientX-e};localStorage.setItem("Position",JSON.stringify(s)),this.reStyle(o.clientX-e,o.clientY-t)}HandleTouchMove(e,t,o){const s={top:o.touches[0].clientY-t,left:o.touches[0].clientX-e};localStorage.setItem("Position",JSON.stringify(s)),this.reStyle(o.touches[0].clientX-e,o.touches[0].clientY-t)}setCurrentPositionImage(){window.getComputedStyle(this.#n),this.#e=this.#n.offsetLeft,this.#t=this.#n.offsetTop,console.log(this.#e,this.#t)}reStyle(e,t){this.#n.style.cssText=`\n            top: ${t}px;\n            left: ${e}px;\n        `,this.#e=e,this.#t=t}setSizeOfScreen(){const e=window.getComputedStyle(this.#i);this.#c=+e.width.split("px")[0],this.#r=+e.height.split("px")[0]}};!function(){const t=localStorage.getItem("firstDevice"),o=localStorage.getItem("secondDevice");t&&"Closed"!=t?o&&"Closed"!=o||(localStorage.setItem("secondDevice","Activated"),function(){window.addEventListener("beforeunload",(e=>{localStorage.setItem("secondDevice","Closed"),localStorage.getItem("firstDevice")})),window.addEventListener("storage",(e=>{const o=-1*+localStorage.getItem("firstScreen"),s=JSON.parse(localStorage.getItem("Position"));t.reStyle(s.left+o,s.top)}));const t=new e;t.onMouseDown()}()):(localStorage.setItem("firstDevice","Activated"),function(){function t(){const e=window.getComputedStyle(document.querySelector("body")).width.split("px")[0];localStorage.setItem("firstScreen",e)}window.addEventListener("beforeunload",(e=>{localStorage.setItem("firstDevice","Closed"),localStorage.getItem("secondDevice")})),window.addEventListener("storage",(e=>{const t=-1*+localStorage.getItem("firstScreen"),s=JSON.parse(localStorage.getItem("Position"));o.reStyle(s.left-t,s.top)})),window.addEventListener("resize",(e=>{t()}));const o=new e;o.onMouseDown(),t()}())}()})();