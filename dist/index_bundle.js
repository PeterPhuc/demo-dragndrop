(()=>{"use strict";const e=class{#e;#t;#o;#s;#i;#n;#c;#l;constructor(){this.#i=document.querySelector(".wrapper .image"),this.#n=document.querySelector("body"),this.setCurrentPositionImage(),this.init()}init(){const e=JSON.parse(localStorage.getItem("Position"));e&&this.reStyle(e.left,e.top)}getPos(){return{posX:this.#e,posY:this.#t}}onMouseDown(){const e=this;this.#i.addEventListener("mousedown",(function(t){t.preventDefault(),0==t.button&&(e.setCurrentPositionImage(),e.onMouseMove(t.clientX-e.getPos().posX,t.clientY-e.getPos().posY))})),this.#i.addEventListener("touchstart",(function(t){e.setCurrentPositionImage(),e.onMouseMove(t.touches[0].clientX-e.getPos().posX,t.touches[0].clientY-e.getPos().posY)}))}onMouseMove(e,t){const o=this;function s(s){s.preventDefault(),o.HandleMouseMove(e,t,s)}function i(s){o.HandleTouchMove(e,t,s)}this.#n.addEventListener("mousemove",s),this.#n.addEventListener("mouseup",(function(e){this.removeEventListener("mousemove",s)})),this.#n.addEventListener("mouseleave",(function(e){this.removeEventListener("mousemove",s)})),this.#n.addEventListener("touchmove",i),this.#n.addEventListener("touchend",(function(e){this.removeEventListener("touchmove",i)}))}HandleMouseMove(e,t,o){const s={top:o.clientY-t,left:o.clientX-e};localStorage.setItem("Position",JSON.stringify(s)),this.reStyle(o.clientX-e,o.clientY-t)}HandleTouchMove(e,t,o){const s={top:o.touches[0].clientY-t,left:o.touches[0].clientX-e};localStorage.setItem("Position",JSON.stringify(s)),this.reStyle(o.touches[0].clientX-e,o.touches[0].clientY-t)}setCurrentPositionImage(){window.getComputedStyle(this.#i),this.#e=this.#i.offsetLeft,this.#t=this.#i.offsetTop,console.log(this.#e,this.#t)}reStyle(e,t){this.#i.style.cssText=`\n            top: ${t}px;\n            left: ${e}px;\n        `,this.#e=e,this.#t=t}setSizeOfScreen(){const e=window.getComputedStyle(this.#n);this.#c=+e.width.split("px")[0],this.#l=+e.height.split("px")[0]}};!function(){const t=localStorage.getItem("firstDevice"),o=localStorage.getItem("secondDevice");t&&"Closed"!=t?o&&"Closed"!=o||(localStorage.setItem("secondDevice","Activated"),function(){localStorage.getItem("firstScreen"),window.addEventListener("beforeunload",(e=>{localStorage.setItem("secondDevice","Closed"),"Closed"==localStorage.getItem("firstDevice")&&localStorage.setItem("Position",JSON.stringify({top:0,left:0}))})),window.addEventListener("storage",(e=>{const o=-1*+localStorage.getItem("firstScreen"),s=JSON.parse(localStorage.getItem("Position")),i=localStorage.getItem("firstDevice"),n=s.left,c=s.top;if("Closed"!=i)t.reStyle(s.left+o,s.top);else if(n==t.getPos().posX){const e={top:c,left:s.left-o};localStorage.setItem("Position",JSON.stringify(e))}}));const t=new e;t.onMouseDown()}()):(localStorage.setItem("firstDevice","Activated"),function(){function t(){const e=window.getComputedStyle(document.querySelector("body")).width.split("px")[0];localStorage.setItem("firstScreen",e)}window.addEventListener("beforeunload",(e=>{localStorage.setItem("firstDevice","Closed"),"Closed"==localStorage.getItem("secondDevice")&&localStorage.setItem("Position",JSON.stringify({top:0,left:0}))})),window.addEventListener("storage",(e=>{const t=-1*+localStorage.getItem("firstScreen"),s=JSON.parse(localStorage.getItem("Position")),i=localStorage.getItem("secondDevice"),n=s.left,c=s.top;if("Closed"!=i)o.reStyle(s.left-t,s.top);else if(n==o.getPos().posX){const e={top:c,left:s.left+t};localStorage.setItem("Position",JSON.stringify(e))}})),window.addEventListener("resize",(e=>{t()}));const o=new e;o.onMouseDown(),t()}())}()})();